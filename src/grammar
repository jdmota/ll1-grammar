TYPESTATE = typestate NAME { TYPESTATE_BODY }

TYPESTATE_BODY = EMPTY
TYPESTATE_BODY = STATE_DEF_NAME TYPESTATE_BODY

STATE_DEF_NAME = NAME = STATE_DEF

STATE_DEF = { STATES }

STATES = EMPTY
STATES = METHOD STATE_NEXT

STATE_NEXT = EMPTY
STATE_NEXT = , METHOD STATE_NEXT

METHOD = TYPE NAME ( ARGUMENTS ) : W

ARGUMENTS = EMPTY
ARGUMENTS = TYPE ARGUMENTS_NEXT

ARGUMENTS_NEXT = EMPTY
ARGUMENTS_NEXT = , TYPE ARGUMENTS_NEXT

W = STATE_DEF
W = < LABELS >
W = end
W = NAME

LABELS = LABEL LABELS_NEXT

LABELS_NEXT = EMPTY
LABELS_NEXT = , LABELS

LABEL = NAME : LABEL_TO

LABEL_TO = NAME
LABEL_TO = end
